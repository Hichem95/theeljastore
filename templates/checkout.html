<h1>{{checkout_title}}</h1>
<!-- Order summary -->
{{order_summary}}
<form method="POST" action="/checkout?lang={{lang}}" class="checkout-form">
    <label for="name">{{name_label}}</label>
    <input type="text" id="name" name="name" required />

    <label for="email">{{email_label}}</label>
    <!-- E‑mail field is optional; remove the required attribute -->
    <input type="email" id="email" name="email" />

    <label for="phone">{{phone_label}}</label>
    <input type="tel" id="phone" name="phone" required />

    <label for="address">{{address_label}}</label>
    <textarea id="address" name="address" required></textarea>

    <label>{{payment_method_label}}</label>
    <select name="payment_method" id="payment_method" required onchange="toggleCardField()">
        <option value="cash" selected>{{payment_option_cash}}</option>
        <option value="card">{{payment_option_card}}</option>
    </select>

    <div id="card-fields">
        <!-- Placeholder for card payment details or API integration -->
        <div class="payment-api">
            <p>{{payment_api_label}}</p>
            <!-- Vous pouvez insérer ici le code de votre passerelle de paiement (par ex. un widget ou un iframe) -->
        </div>
    </div>

    <button type="submit" class="button">{{place_order_button}}</button>
</form>

<script>
// Hide or show card number field based on selected payment method
function toggleCardField() {
    var method = document.getElementById('payment_method').value;
    var cardFields = document.getElementById('card-fields');
    if (method === 'cash') {
        cardFields.style.display = 'none';
    } else {
        cardFields.style.display = 'block';
    }
}
// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    toggleCardField();
});
</script>